import{polyfill as e}from"seamless-scroll-polyfill/dist/esm/Element.scrollBy";import"core-js/modules/es.array.find-index";import"core-js/modules/es.array.from";import"core-js/modules/es.array.map";import"core-js/modules/es.string.iterator";import t from"lodash.debounce";var i="undefined"==typeof document||"undefined"==typeof window,s=!i;i||"scrollBehavior"in document.documentElement.style||e();function r(e,t,i,s,r,n,o,a,c,d){"boolean"!=typeof o&&(c=a,a=o,o=!1);const l="function"==typeof i?i.options:i;let h;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),s&&(l._scopeId=s),n?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=h):t&&(h=o?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),h)if(l.functional){const e=l.render;l.render=function(t,i){return h.call(i),e(t,i)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,h):[h]}return i}const n={props:{navigationArrows:{type:Boolean,default:!0}},data:function(){return{boundLeft:!0,boundRight:!1,slidesWidth:[],wrapperScrollWidth:0,wrapperVisibleWidth:0,currentPage:0,currentPos:0,maxPages:0,step:1}},mounted:function(){this.calcWrapperWidth(),this.calcSlidesWidth(),this.calcMaxPages(),s&&(this.$refs.vsWrapper.addEventListener("scroll",t(this.eventScroll,100)),window.addEventListener("resize",t(this.eventResize,410),!1))},beforeDestroy:function(){s&&(this.$refs.vsWrapper.removeEventListener("scroll",t(this.eventScroll,100)),window.removeEventListener("resize",t(this.eventResize,410),!1))},methods:{calcBounds:function(){this.boundLeft=0===this.currentPos,this.boundRight=this.wrapperScrollWidth-this.wrapperVisibleWidth===this.currentPos},calcWrapperWidth:function(){this.wrapperScrollWidth=this.$refs.vsWrapper.scrollWidth,this.wrapperVisibleWidth=this.$refs.vsWrapper.offsetWidth},calcSlidesWidth:function(){var e=Array.from(this.$refs.vsWrapper.childNodes);this.slidesWidth=e.map((function(e){return{offsetLeft:e.offsetLeft,width:e.offsetWidth}}))},calcCurrentPosition:function(){var e=this;this.currentPos=this.$refs.vsWrapper.scrollLeft,this.currentPage=this.slidesWidth.findIndex((function(t){var i,s,r,n=t.offsetLeft;return i=n,s=e.currentPos,r=1,Math.abs(i-s)<=r})),-1===this.currentPage&&(this.currentPage=this.maxPages)},calcMaxPages:function(){var e=this.wrapperScrollWidth-this.wrapperVisibleWidth;this.maxPages=this.slidesWidth.findIndex((function(t){return t.offsetLeft>e}))-1},calcNextWidth:function(e){var t=e>0?this.currentPage:this.currentPage+e;return this.slidesWidth[t].width*e},eventScroll:function(){this.calcCurrentPosition(),this.calcBounds()},eventResize:function(){this.calcWrapperWidth(),this.calcSlidesWidth(),this.calcCurrentPosition(),this.calcBounds(),this.calcMaxPages()},changeSlide:function(e){var t=-1===e&&this.boundLeft,i=1===e&&this.boundRight;if(!t&&!i){var s=this.calcNextWidth(e);this.scroll(s)}},scroll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$refs.vsWrapper.scrollBy({left:e,behavior:"smooth"})}}};var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vs-carousel"},[i("div",{ref:"vsWrapper",staticClass:"vs-carousel__wrapper"},[e._t("default")],2),e._v(" "),e.navigationArrows?e._t("navigation",[i("button",{directives:[{name:"show",rawName:"v-show",value:!e.boundLeft,expression:"!boundLeft"}],staticClass:"\n        vs-carousel__navigation\n        vs-carousel__navigation--left\n      ",attrs:{"aria-label":"Slide left"},on:{click:function(t){return e.changeSlide(-1)}}},[e._v("\n      ←\n    ")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!e.boundRight,expression:"!boundRight"}],staticClass:"\n        vs-carousel__navigation\n        vs-carousel__navigation--right\n      ",attrs:{"aria-label":"Slide right"},on:{click:function(t){return e.changeSlide(1)}}},[e._v("\n      →\n    ")])]):e._e()],2)};o._withStripped=!0;const a=r({render:o,staticRenderFns:[]},void 0,n,void 0,!1,void 0,!1,void 0,void 0,void 0);var c=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"vsSlide",staticClass:"vs-carousel__slide",attrs:{tabindex:"0"}},[this._t("default")],2)};c._withStripped=!0;const d=r({render:c,staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0);var l={install:function(e){e.component("carousel",a),e.component("slide",d)}};export default l;export{a as Carousel,d as Slide};
